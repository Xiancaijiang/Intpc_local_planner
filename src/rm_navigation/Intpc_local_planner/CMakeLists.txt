cmake_minimum_required(VERSION 3.8)\nproject(intpc_local_planner)\n\n# Default to C++17\nif(NOT CMAKE_CXX_STANDARD)\n  set(CMAKE_CXX_STANDARD 17)\nendif()\n\nif(CMAKE_COMPILER_IS_GNUCXX OR CMAKE_CXX_COMPILER_ID MATCHES "Clang")\n  add_compile_options(-Wall -Wextra -Wpedantic)\nendif()\n\n# Find dependencies\nfind_package(ament_cmake REQUIRED)\nfind_package(rclcpp REQUIRED)\nfind_package(rclcpp_lifecycle REQUIRED)\nfind_package(nav2_common REQUIRED)\nfind_package(nav2_core REQUIRED)\nfind_package(nav2_util REQUIRED)\nfind_package(nav2_costmap_2d REQUIRED)\nfind_package(geometry_msgs REQUIRED)\nfind_package(nav_msgs REQUIRED)\nfind_package(pluginlib REQUIRED)\nfind_package(tf2 REQUIRED)\nfind_package(tf2_ros REQUIRED)\nfind_package(tf2_geometry_msgs REQUIRED)\nfind_package(visualization_msgs REQUIRED)\n\nnav2_package()\n\n# Include directories\ninclude_directories(\n  include\n)\n\n# Build the plugin library\nadd_library(${PROJECT_NAME}_plugin SHARED\n  src/intpc_local_planner_ros.cpp\n)\n\n# Link dependencies\naament_target_dependencies(${PROJECT_NAME}_plugin\n  rclcpp\n  rclcpp_lifecycle\n  nav2_core\n  nav2_util\n  nav2_costmap_2d\n  geometry_msgs\n  nav_msgs\n  pluginlib\n  tf2\n  tf2_ros\n  tf2_geometry_msgs\n  visualization_msgs\n)\n\n# Install library\ninstall(TARGETS ${PROJECT_NAME}_plugin\n  ARCHIVE DESTINATION lib\n  LIBRARY DESTINATION lib\n  RUNTIME DESTINATION bin\n)\n\n# Install headers\ninstall(DIRECTORY include/\n  DESTINATION include/\n)\n\n# Install Python scripts\ninstall(DIRECTORY scripts/\n  DESTINATION lib/${PROJECT_NAME}/\n  USE_SOURCE_PERMISSIONS\n)\n\n# Export plugin\npluginlib_export_plugin_description_file(nav2_core intpc_local_planner_plugin.xml)\n\n# Install plugin description file\ninstall(FILES intpc_local_planner_plugin.xml\n  DESTINATION share/${PROJECT_NAME}/\n)\n\n# Test\nif(BUILD_TESTING)\n  find_package(ament_lint_auto REQUIRED)\n  ament_lint_auto_find_test_dependencies()\nendif()\n\nament_package()\n